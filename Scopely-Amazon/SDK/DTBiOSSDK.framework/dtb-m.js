/*! dtb-m.js - v2.2.0 - 2019-06-26 18:45:00 */!function(t){var i={};function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)r.d(t,i,function(e){return n[e]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(e,n){window.amzn=window.amzn||{},amzn.dtb=window.amzn.dtb||{},function(g){var s=!1,h="aax-us-east.amazon-adsystem.com",w=null,v=null,y="https://",i="__dtbAd__",b=!1,x=!1;g.sdkType="unknown";var n,t,e,r,a,o,d,l,c,u,E=(n="parallelLoading",e=0,r=50,a=t="sequentialLoading",o={init:Date.now()},d=!1,l=0,c=T(e),u=!0===T(r)?n:t,{loadTypes:{sequentialLoading:t,parallelLoading:n},eventTypes:{adStart:"adStart",adEnd:"adEnd",csmStart:"csmStart",csmEnd:"csmEnd"},handleEvent:function(e){try{c&&(function(e){o[e]=Date.now()}(e),5===Object.keys(o).length&&function(){var e=E.eventTypes,n={as:p(e.adStart,o),ae:p(e.adEnd,o),cs:p(e.csmStart,o),ce:p(e.csmEnd,o),isP:E.isParallelLoading()?1:0,_type:"mdtbCSMLoad"};S.send(n,w)}())}catch(e){m(e.message)}},injectCsmJs:function(){if(d)m("csm.js duplicate load attempted");else{d=!0,g.log("Injecting viewability script"),E.handleEvent(E.eventTypes.csmStart);var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.onload=function(){g.log("Viewability script loaded"),E.handleEvent(E.eventTypes.csmEnd),E.triggerCSMCallback()},e.onerror=function(){m("CSM JS loading failed")},e.src="//c.amazon-adsystem.com/bao-csm/mobile/csm.js.gz",document.body.appendChild(e),g.log("Viewability script injected")}},loadCsmIfTypeIs:function(e){this.isParallelLoading()&&e===n&&injectCsmJs(),this.isParallelLoading()||e!==t||injectCsmJs()},isParallelLoading:function(){var e=this.loadTypes.parallelLoading;return!c&&a===e||c&&u===e},triggerCSMCallback:function(){2==++l&&function(){if(1==g.ev)if(amzncsm&&"function"==typeof amzncsm.rmRM){var e,n=document.getElementById(i);if(n){var t=n.getElementsByTagName("iframe");t&&0<t.length&&(e=t[0])}amzncsm.host=h,e?amzncsm.rmRM(w,e):m("ad iframe not found")}else m("amzncsm.rmRM is not a function")}()}});function m(e){var n={adViewability:[{error:{m:e}}],c:"viewability",api:"MAPP",error:1};S.send(n,w)}function p(e,n){return n[e]-n.init}var f,k,C=(f=T(s?100:1),k=!1,{defaultImp:function(){if(f){var e=M(1);S.send(e,w)}},outsideMraid:function(){f&&(mraid.addEventListener("viewableChange",O),O())},insideMarkup:function(e){return f?L(e):e}});function O(){if(mraid.isViewable()&&!k){var e=M(2);S.send(e,w),k=!0}}function M(e){return{p:e,ts:s?0:Date.now(),_type:"nike"}}function L(e){var n=e.lastIndexOf("</body>");if(-1!==n){var t=e.substring(0,n),i=e.substring(n,e.length),r=M(3),a=M(4),o=S.getUrl(r,w),d=S.getUrl(a,w);e=t+"<img height='1' width='1' style='display:none' src='".concat(o,"'/>\n                <script>\n                var mraidNikeInnerPixel = ").concat(function(e){function n(){mraid.isViewable()&&i()}var t=!1,i=function(){t||((new Image).src=e,t=!0)};mraid.addEventListener("viewableChange",n),n()}.toString(),";\n                mraidNikeInnerPixel('").concat(d,"');\n                <\/script>")+i}return e}function P(e){return e&&"string"==typeof e&&0<e.trim().length}var S=function(){try{function t(e){e._tl="aps-mtag";var n=JSON.stringify(e);return n=function(e){return e.replace(/\\.{1}/g,"")}(n),n=encodeURIComponent(n)}function i(){return y+h+"/x/px/"}function r(e){(new Image).src=e}function a(e){return i()+"p/PH/"+t(e)+d()}function o(e,n){return i()+n+"/"+t(e)+d()}var d=function(){return"?cb="+(s?0:Math.round(1e7*Math.random()))};return{send:function(e,n){try{var t;t=n?o(e,n):a(e),r(t)}catch(e){console.log(e)}},getUrl:function(e,n){try{return n?o(e,n):a(e)}catch(e){console.log(e)}}}}catch(e){return function(){}}}();g.log=function(){};g.dispatchAppEvent=function(e,n,t,i,r){if("fb"==i)try{admob.events.dispatchAppEvent("mDTB","facebook")}catch(e){!function(e){S.send({"mdtb-ad-rendering":e})}("admob/fb")}else g.loadAd(e,n,t,r)},g.loadAd=function(e,n,t,i){if(E.handleEvent(E.eventTypes.adStart),arguments.length<2)console.error("amzn.dtb.loadAd is not called with sufficient number of arguments.");else if(i&&(s=!0,g.log("Enabling debug mode, now all logs will be printed & http will used for connection.")),P(t)&&-1==t.indexOf("BAD")&&(g.log("Overriding default aaxHost with: "+t),h=t),P(n))if(g.log("Setting bidId: "+n),w=n,P(e)){g.log("Setting pricepoint: "+e),v=e,g.log("Making JSONP call to load the creative.");var r=document.createElement("script");r.type="text/javascript",E.isParallelLoading()&&(r.async=!0),r.src=y+h+"/e/msdk/adm?b="+w+"&ps="+v,document.body.appendChild(r),E.isParallelLoading()&&E.injectCsmJs(),g.log("Creating viewport meta tag and adding it to head.");var a=document.createElement("meta");a.name="viewport",a.content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(a);try{window.setTimeout(function(){try{I()}catch(e){S.send({type:"mDTBOmidCheckError"})}},2e3)}catch(e){}}else g.log("Error","Pricepoint passed is not a valid string, aborting!");else g.log("Error","BidId passed is not a valid string, aborting!")};var I=function(){var i={p:0};function r(e){var n={e:1};try{return n.em=e.message,n}catch(e){return n}}if(T(1)){var e={type:"mdtbVCheck"};e=function(e){var n={};try{if(window.hasOwnProperty("mraid")){n={p:1};"function"==typeof mraid.isViewable&&mraid.isViewable()?mraid.isV=1:mraid.addEventListener("viewableChange",function(){try{if(mraid.isViewable()){S.send({type:"mdtbVCheckVC",isVC:1},w)}}catch(e){}})}else n=i}catch(e){n=r(e)}return e.mraid=n,e}(e=function(e){var n={};try{var t=Object.keys(window).filter(function(e){return e.includes("Moat")});n=0<t.length?{p:1,v:t}:i}catch(e){n=r(e)}return e.moat=n,e}(e=function(e){try{var n="OmidVerificationClient",t={};if(window.hasOwnProperty(n))t={p:1,v:Object.keys(window[n])},e.omid=t;else t=i}catch(e){t=r(e)}return e.omid=t,e}(e))),S.send(e,w)}};function T(e){try{var n=parseInt(e,10);if(!isNaN(n)){if(n<=0)return!1;if(100<=n)return!0;if(100*Math.random()<=n)return!0}return!1}catch(e){return!1}}g.renderAd=function(u){if(g.ev=u.ev,E.handleEvent(E.eventTypes.adEnd),u&&u.html){var m=document.getElementById(i);if(m){g.log("Loading HTML creative:",u.html),m.innerHTML="";var p=!1;!function(e){return 0!==e.innerWidth&&0!==e.innerHeight}(window)?(window.addEventListener("resize",f),window.setTimeout(function(){!1===p&&window.removeEventListener("resize",f),f(!1)},1e3)):f(!1)}else g.log('Ad div not found. Please place an empty div with id="__dtbAd__" in the page, aborting!')}else g.log("Looks like there is no creative in JSONP call, aborting!");function f(e){if(!1===p){!(p=!0)!==e&&window.removeEventListener("resize",f);var n=document.createElement("iframe");n.style.border="none";var t=_();t?(n.style.width=t.width+"px",n.style.height=t.height+"px"):(n.style.width=window.innerWidth+"px",n.style.height=window.innerHeight+"px"),n.style.overflow="hidden",n.setAttribute("border","0"),m.appendChild(n),n.contentWindow.mraid=window.mraid,n.contentWindow.amazon={},n.contentWindow.dtb=new V;var i=n.contentDocument||n.contentWindow.document,r=z(u.html);r=C.insideMarkup(r),i.open("text/html"),i.write(r),i.close(),g.log("Adding event handlers...");var a=320,o=480;b=A(m),x=j(m);var d=window.navigator.userAgent.toLowerCase();/iphone|ipod|ipad/.test(d)&&b||x?(window.addEventListener("orientationchange",function(){0==window.orientation||180==window.orientation?(n.style.width=a+"px",n.style.height=o+"px"):(n.style.width=o+"px",n.style.height=a+"px")}),window.onload=function(){a=Math.max(document.body.clientWidth,window.innerWidth),o=Math.max(document.body.clientHeight,window.innerHeight),n.style.width=a+"px",n.style.height=o+"px",o<a&&(o=[a,a=o][0])}):t&&"interstitial"===t.type?(a=t.width,o=t.height,n.style.width=a+"px",n.style.height=o+"px",o<a&&(o=[a,a=o][0]),window.addEventListener("orientationchange",function(){0==window.orientation||180==window.orientation?(n.style.width=a+"px",n.style.height=o+"px"):(n.style.width=o+"px",n.style.height=a+"px")})):window.onresize=function(){n.style.width=window.innerWidth+"px",n.style.height=window.innerHeight+"px"};for(var s=i.getElementsByTagName("a"),l=0;l<s.length;l++){var c=s[l];c.onclick||c.target||(c.target="_top")}E.triggerCSMCallback(),function(){if(!("mraid"in window))return g.log("Error","Mraid object not found, impression will not be made."),g.log('Please include \'<script type="text/javascript" src="mraid.js"><\/script>\' in your creative.');var n=!1;if(v&&w){function e(){if(n)g.log("Impression pixel already fired.");else{g.log("Ad has rendered so firing impression pixel to ad-server.");var e=h+"/e/msdk/imp?b="+w+"&ps="+v+"&rnd="+Math.floor(1e5*Math.random()+1);(new Image).src=y+e,C.defaultImp(),n=!0}}function t(){g.log("Looks like viewable state has changed."),"interstitial"===mraid.getPlacementType()||b||x?mraid.isViewable()&&e():(g.log("Ad is not interstitial, so firing impression call."),e())}g.log("Registering impression event, with Pricepoint",v,"and bidId:",w),mraid.addEventListener("viewableChange",t),t(),C.outsideMraid(),E.isParallelLoading()||E.injectCsmJs()}}()}}};var j=function(e){var n=-1!=location.href.indexOf("adnxs"),t="100%"==e.style.width;return n&&t},A=function(e){var n=-1!=location.href.indexOf("mopub"),t="100%"==e.style.width;return n&&t},_=function(){if(window.MRAID_ENV&&window.MRAID_ENV.amznAdInfo){var t=window.MRAID_ENV.amznAdInfo;return!!["width","height","type"].reduce(function(e,n){return t.hasOwnProperty(n)||(e=!1),e},!0)&&window.MRAID_ENV.amznAdInfo}return!1},z=function(e){var n=e.indexOf("mraid.js");return-1!=n&&(g.log("Purging extra mraid.js from the creative."),e=e.substring(0,n)+e.substring(n+8),g.log("New Creative: ",e)),e},V=function(){var t=this,i=mraid.open;t.sdkVersion="mDTB-js-1.0.1",t.os="Android";var e=window.navigator.userAgent.toLowerCase();/iphone|ipod|ipad/.test(e)&&(t.os="iOS"),"unknown"===g.sdkType&&(-1!=location.href.indexOf("mopub")?g.sdkType="mopub":-1!=location.href.indexOf("doubleclick")&&(g.sdkType="dfp")),mraid.open=function(e){if("string"==typeof e){if(g.log("Original URL:",e),"iOS"===t.os&&e.startsWith("amazonmobile://")){var n=e.split("intent=");1<n.length&&(e=decodeURIComponent(n[n.length-1]))}g.log("Opening URL:",e),"iOS"===t.os&&e.startsWith("http")&&"mopub"==g.sdkType?(g.log("Opening url using mopub native interface."),i.apply(mraid,["mopubnativebrowser://navigate?url="+encodeURIComponent(e)])):"iOS"!==t.os||!e.startsWith("http")||"admob"!=g.sdkType&&"dfp"!=g.sdkType?(g.log("Opening url using mraid interface."),i.apply(mraid,arguments)):(g.log("Opening url using window.open"),window.open(e,"_blank"))}},t.openUrl=mraid.open}}(amzn.dtb),window.aax_render_ad=amzn.dtb.renderAd}]);
